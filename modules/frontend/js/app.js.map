{
  "version": 3,
  "sources": ["../src/ui/chat.ts", "../src/ui/documents.ts", "../src/ui/projects.ts", "../src/ui/dashboard.ts", "../src/main.ts"],
  "sourcesContent": ["const API_URL = '/api/v1';\n\ntype ModuleId = 'default' | 'ksef' | 'b2b' | 'zus' | 'vat';\n\nconst MODULES: Record<ModuleId, { name: string; icon: string }> = {\n  default: { name: 'Og\u00F3lne', icon: '\uD83D\uDCAC' },\n  ksef: { name: 'KSeF', icon: '\uD83D\uDCC4' },\n  b2b: { name: 'B2B', icon: '\uD83D\uDCBC' },\n  zus: { name: 'ZUS', icon: '\uD83C\uDFE5' },\n  vat: { name: 'VAT', icon: '\uD83D\uDCB0' },\n};\n\ntype ChatRole = 'user' | 'assistant';\n\ninterface ChatSource {\n  title: string;\n  source: string;\n  similarity: number;\n}\n\nfunction initChannels(): void {\n  const channelItems = document.querySelectorAll<HTMLElement>('.channel-item');\n  if (!channelItems.length) return;\n\n  channelItems.forEach((item) => {\n    item.addEventListener('click', () => {\n      const moduleId = item.dataset.module as ModuleId | undefined;\n      if (!moduleId) return;\n\n      channelItems.forEach((i) => i.classList.remove('active'));\n      item.classList.add('active');\n      setModule(moduleId);\n    });\n  });\n}\n\ninterface ChatResponse {\n  response: string;\n  sources?: ChatSource[];\n}\n\ninterface ChatElements {\n  messages: HTMLElement | null;\n  form: HTMLFormElement | null;\n  input: HTMLTextAreaElement | HTMLInputElement | null;\n  sendBtn: HTMLButtonElement | null;\n  status: HTMLElement | null;\n  statusText: HTMLElement | null;\n  currentModule: HTMLElement | null;\n  charCount: HTMLElement | null;\n  sourcesPanel: HTMLElement | null;\n  sourcesList: HTMLUListElement | null;\n  closeSources: HTMLElement | null;\n  quickQuestions: HTMLElement | null;\n}\n\nconst elements: ChatElements = {\n  messages: document.getElementById('messages'),\n  form: document.getElementById('chat-form') as HTMLFormElement | null,\n  input: document.getElementById('user-input') as HTMLTextAreaElement | HTMLInputElement | null,\n  sendBtn: document.getElementById('send-btn') as HTMLButtonElement | null,\n  status: document.getElementById('status'),\n  statusText: document.querySelector('.status-text') as HTMLElement | null,\n  currentModule: document.getElementById('current-module'),\n  charCount: document.getElementById('char-count'),\n  sourcesPanel: document.getElementById('sources-panel'),\n  sourcesList: document.getElementById('sources-list') as HTMLUListElement | null,\n  closeSources: document.getElementById('close-sources'),\n  quickQuestions: document.getElementById('quick-questions'),\n};\n\nlet currentModule: ModuleId = 'default';\nlet isLoading = false;\nlet lastSources: ChatSource[] = [];\n\nexport function initChat(): void {\n  if (!elements.form || !elements.input || !elements.messages) return;\n\n  initModuleButtons();\n  initChannels();\n  initForm();\n  initQuickQuestions();\n  initSourcesPanel();\n  void checkHealth();\n\n  elements.input.focus();\n}\n\nfunction initModuleButtons(): void {\n  const buttons = document.querySelectorAll<HTMLElement>('.module-btn');\n  buttons.forEach((btn) => {\n    const moduleId = btn.dataset.module as ModuleId | undefined;\n    if (!moduleId) return; // pomi\u0144 przycisk Edycji\n    btn.addEventListener('click', () => {\n      setModule(moduleId);\n    });\n  });\n}\n\nfunction initForm(): void {\n  const { form, input, charCount } = elements;\n  if (!form || !input) return;\n\n  form.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    const message = input.value.trim();\n    if (!message || isLoading) return;\n    await sendMessage(message);\n  });\n\n  input.addEventListener('input', () => {\n    if (!charCount) return;\n    const count = input.value.length;\n    charCount.textContent = `${count}/2000`;\n  });\n\n  input.addEventListener('keydown', (e) => {\n    const ev = e as KeyboardEvent;\n    if (ev.key === 'Enter' && !ev.shiftKey) {\n      ev.preventDefault();\n      form.dispatchEvent(new Event('submit'));\n    }\n  });\n}\n\nasync function sendMessage(message: string): Promise<void> {\n  isLoading = true;\n  setLoadingState(true);\n\n  if (elements.quickQuestions) {\n    elements.quickQuestions.style.display = 'none';\n  }\n\n  addMessage(message, 'user');\n  if (elements.input && elements.charCount) {\n    elements.input.value = '';\n    elements.charCount.textContent = '0/2000';\n  }\n\n  const loadingId = addMessage('', 'assistant', true);\n\n  try {\n    const response = await fetch(`${API_URL}/chat`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        message,\n        module: currentModule,\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    const data = (await response.json()) as ChatResponse;\n    removeMessage(loadingId);\n    addMessage(data.response, 'assistant', false, data.sources || []);\n    lastSources = data.sources || [];\n  } catch (error) {\n    console.error('Error:', error);\n    removeMessage(loadingId);\n    addMessage(\n      'Przepraszam, wyst\u0105pi\u0142 b\u0142\u0105d po\u0142\u0105czenia. Sprawd\u017A czy serwisy dzia\u0142aj\u0105 (docker compose ps) i spr\u00F3buj ponownie.',\n      'assistant',\n    );\n  } finally {\n    isLoading = false;\n    setLoadingState(false);\n    elements.input?.focus();\n  }\n}\n\nfunction addMessage(text: string, role: ChatRole, isLoadingMsg = false, sources?: ChatSource[] | null): string {\n  const id = `msg-${Date.now()}-${Math.random().toString(36).slice(2)}`;\n\n  if (!elements.messages) return id;\n\n  const messageDiv = document.createElement('div');\n  messageDiv.id = id;\n  messageDiv.className = `message ${role}${isLoadingMsg ? ' loading' : ''}`;\n\n  const avatar = role === 'user' ? '\uD83D\uDC64' : '\uD83E\uDD85';\n\n  let contentHtml = formatMessage(text);\n\n  if (sources && sources.length > 0) {\n    contentHtml += `\n            <div class=\"sources-link\" onclick=\"showSources()\">\n                \uD83D\uDCDA Zobacz \u017Ar\u00F3d\u0142a (${sources.length})\n            </div>\n        `;\n  }\n\n  messageDiv.innerHTML = `\n        <div class=\"message-avatar\">${avatar}</div>\n        <div class=\"message-content\">${contentHtml}</div>\n    `;\n\n  elements.messages.appendChild(messageDiv);\n  scrollToBottom();\n\n  return id;\n}\n\nfunction removeMessage(id: string): void {\n  const el = document.getElementById(id);\n  if (el) el.remove();\n}\n\nfunction formatMessage(text: string): string {\n  if (!text) return '';\n\n  let safe = text\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n\n  safe = safe.replace(/\\*\\*(.+?)\\*\\*/g, '<strong>$1</strong>');\n  safe = safe.replace(/```([\\s\\S]*?)```/g, '<pre><code>$1</code></pre>');\n  safe = safe.replace(/`(.+?)`/g, '<code>$1</code>');\n  safe = safe.replace(/\\n\\n/g, '</p><p>');\n  safe = safe.replace(/\\n/g, '<br>');\n\n  if (!safe.startsWith('<p>')) {\n    safe = `<p>${safe}</p>`;\n  }\n\n  return safe;\n}\n\nfunction scrollToBottom(): void {\n  if (!elements.messages) return;\n  elements.messages.scrollTop = elements.messages.scrollHeight;\n}\n\nfunction setLoadingState(loading: boolean): void {\n  if (elements.sendBtn) elements.sendBtn.disabled = loading;\n  if (elements.input) elements.input.disabled = loading;\n}\n\nfunction initQuickQuestions(): void {\n  const buttons = document.querySelectorAll<HTMLElement>('.quick-btn');\n  if (!buttons.length) return;\n\n  buttons.forEach((btn) => {\n    btn.addEventListener('click', () => {\n      const question = btn.dataset.question || '';\n      const moduleId = btn.dataset.module as ModuleId | undefined;\n\n      if (moduleId && moduleId !== currentModule) {\n        setModule(moduleId);\n      }\n\n      if (elements.input) {\n        elements.input.value = question;\n        elements.form?.dispatchEvent(new Event('submit'));\n      }\n    });\n  });\n}\n\nfunction initSourcesPanel(): void {\n  if (elements.closeSources) {\n    elements.closeSources.addEventListener('click', hideSources);\n  }\n\n  document.addEventListener('click', (e) => {\n    if (!elements.sourcesPanel) return;\n\n    const target = e.target as HTMLElement | null;\n    if (!target) return;\n\n    const clickedInsidePanel = elements.sourcesPanel.contains(target);\n    const isSourcesLink = target.classList.contains('sources-link');\n\n    if (!clickedInsidePanel && !isSourcesLink) {\n      hideSources();\n    }\n  });\n}\n\nfunction showSources(): void {\n  if (!elements.sourcesPanel || !elements.sourcesList) return;\n  if (!lastSources.length) return;\n\n  elements.sourcesList.innerHTML = lastSources\n    .map(\n      (source) => `\n        <li>\n            <div class=\"source-title\">${escapeHtml(source.title)}</div>\n            <div class=\"source-meta\">\n                ${escapeHtml(source.source)}\n                <span class=\"source-similarity\">${Math.round(source.similarity * 100)}%</span>\n            </div>\n        </li>\n    `,\n    )\n    .join('');\n\n  elements.sourcesPanel.classList.remove('hidden');\n  elements.sourcesPanel.classList.add('visible');\n}\n\nfunction hideSources(): void {\n  if (!elements.sourcesPanel) return;\n  elements.sourcesPanel.classList.remove('visible');\n  setTimeout(() => {\n    elements.sourcesPanel && elements.sourcesPanel.classList.add('hidden');\n  }, 300);\n}\n\nasync function checkHealth(): Promise<void> {\n  try {\n    const baseUrl = API_URL.replace('/api/v1', '');\n    const response = await fetch(`${baseUrl}/health`);\n    const data = await response.json();\n\n    if (!elements.status || !elements.statusText) return;\n\n    if (data.status === 'healthy') {\n      elements.status.classList.add('healthy');\n      elements.status.classList.remove('unhealthy');\n      elements.statusText.textContent = 'Po\u0142\u0105czono z Bielikiem';\n    } else if (data.status === 'degraded') {\n      elements.statusText.textContent = 'Cz\u0119\u015Bciowo dost\u0119pny';\n      if (data.services?.model === 'not_loaded') {\n        elements.statusText.textContent = '\u0141adowanie modelu...';\n      }\n    } else {\n      elements.status.classList.add('unhealthy');\n      elements.statusText.textContent = 'B\u0142\u0105d po\u0142\u0105czenia';\n    }\n  } catch (error) {\n    console.error('Health check failed:', error);\n    if (elements.status && elements.statusText) {\n      elements.status.classList.add('unhealthy');\n      elements.statusText.textContent = 'Brak po\u0142\u0105czenia';\n    }\n  } finally {\n    setTimeout(() => {\n      void checkHealth();\n    }, 30000);\n  }\n}\n\nfunction setModule(module: ModuleId): void {\n  currentModule = module;\n\n  document.querySelectorAll<HTMLElement>('.module-btn').forEach((btn) => {\n    btn.classList.toggle('active', btn.dataset.module === module);\n  });\n\n  if (elements.currentModule) {\n    const info = MODULES[module];\n    elements.currentModule.textContent = `Modu\u0142: ${info.name}`;\n  }\n\n  const messages: Record<ModuleId, string> = {\n    default: 'Zadaj dowolne pytanie dotycz\u0105ce prowadzenia firmy w Polsce.',\n    ksef: 'Pytaj o Krajowy System e-Faktur: terminy wdro\u017Cenia, wymagania techniczne, procedury.',\n    b2b: 'Pomog\u0119 oceni\u0107 ryzyko Twojej umowy B2B wed\u0142ug kryteri\u00F3w Inspekcji Pracy.',\n    zus: 'Oblicz\u0119 sk\u0142adki ZUS i wyja\u015Bni\u0119 zasady ubezpiecze\u0144 dla przedsi\u0119biorc\u00F3w.',\n    vat: 'Pomog\u0119 z JPK_VAT, VAT OSS i innymi rozliczeniami podatkowymi.',\n  };\n\n  addMessage(messages[module], 'assistant');\n  elements.input?.focus();\n}\n\nfunction escapeHtml(text: string): string {\n  return text\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#039;');\n}\n\n// Utrzymanie kompatybilno\u015Bci z istniej\u0105cym HTML i innymi modu\u0142ami\ndeclare global {\n  interface Window {\n    showSources?: () => void;\n    setModule?: (module: ModuleId) => void;\n  }\n}\n\nif (typeof window !== 'undefined') {\n  window.showSources = showSources;\n  window.setModule = setModule;\n}\n\n", "const API_URL = '/api/v1';\n\ninterface DocumentDto {\n  id: number;\n  title: string;\n  source?: string | null;\n  category: string;\n  content: string;\n}\n\ninterface DomainEventDto {\n  id: string;\n  event_type?: string;\n  eventType?: string;\n  created_at?: string;\n  createdAt?: string;\n}\n\nlet currentDocumentId: number | null = null;\n\nfunction getElements() {\n  return {\n    documentsList: document.getElementById('documents-list') as HTMLUListElement | null,\n    documentsRefresh: document.getElementById('documents-refresh') as HTMLButtonElement | null,\n    docTitle: document.getElementById('doc-title') as HTMLInputElement | null,\n    docCategory: document.getElementById('doc-category') as HTMLInputElement | null,\n    docContent: document.getElementById('doc-content') as HTMLTextAreaElement | null,\n    docNew: document.getElementById('doc-new') as HTMLButtonElement | null,\n    docDelete: document.getElementById('doc-delete') as HTMLButtonElement | null,\n    docSave: document.getElementById('doc-save') as HTMLButtonElement | null,\n    documentEvents: document.getElementById('document-events') as HTMLUListElement | null,\n  };\n}\n\nexport function initDocumentsPanel(): void {\n  const els = getElements();\n  if (!els.documentsList) return;\n\n  els.documentsRefresh?.addEventListener('click', loadDocuments);\n  els.docNew?.addEventListener('click', () => {\n    currentDocumentId = null;\n    clearDocumentEditor();\n  });\n  els.docSave?.addEventListener('click', saveDocument);\n  els.docDelete?.addEventListener('click', deleteDocument);\n\n  void loadDocuments();\n}\n\nasync function loadDocuments(): Promise<void> {\n  const els = getElements();\n  if (!els.documentsList) return;\n  try {\n    const resp = await fetch(`${API_URL.replace('/api/v1', '')}/api/v1/documents?limit=50`);\n    if (!resp.ok) throw new Error(`HTTP ${resp.status}`);\n    const docs = (await resp.json()) as DocumentDto[];\n    renderDocumentsList(docs || []);\n  } catch (err) {\n    console.error('Nie uda\u0142o si\u0119 pobra\u0107 dokument\u00F3w:', err);\n  }\n}\n\nfunction renderDocumentsList(docs: DocumentDto[]): void {\n  const els = getElements();\n  if (!els.documentsList) return;\n\n  els.documentsList.innerHTML = '';\n  docs.forEach((doc) => {\n    const li = document.createElement('li');\n    li.className = 'document-item';\n    li.dataset.id = String(doc.id);\n    li.textContent = `${doc.title} (${doc.category})`;\n    li.addEventListener('click', () => {\n      selectDocument(doc, li);\n    });\n    els.documentsList!.appendChild(li);\n  });\n}\n\nfunction selectDocument(doc: DocumentDto, element: HTMLLIElement | null): void {\n  currentDocumentId = doc.id;\n  document.querySelectorAll<HTMLLIElement>('.document-item').forEach((li) => li.classList.remove('active'));\n  if (element) element.classList.add('active');\n\n  const els = getElements();\n  if (els.docTitle) els.docTitle.value = doc.title || '';\n  if (els.docCategory) els.docCategory.value = doc.category || '';\n  if (els.docContent) els.docContent.value = doc.content || '';\n\n  void loadDocumentEvents(doc.id);\n}\n\nfunction clearDocumentEditor(): void {\n  document.querySelectorAll<HTMLLIElement>('.document-item').forEach((li) => li.classList.remove('active'));\n  const els = getElements();\n  if (els.docTitle) els.docTitle.value = '';\n  if (els.docCategory) els.docCategory.value = '';\n  if (els.docContent) els.docContent.value = '';\n  if (els.documentEvents) {\n    els.documentEvents.innerHTML = '';\n  }\n}\n\nasync function loadDocumentEvents(documentId: number): Promise<void> {\n  const els = getElements();\n  if (!els.documentEvents) return;\n  try {\n    const resp = await fetch(`${API_URL}/events/documents/${documentId}`);\n    if (!resp.ok) throw new Error(`HTTP ${resp.status}`);\n    const events = (await resp.json()) as DomainEventDto[];\n    renderDocumentEvents(events || []);\n  } catch (err) {\n    console.error('Nie uda\u0142o si\u0119 pobra\u0107 historii dokumentu:', err);\n  }\n}\n\nfunction renderDocumentEvents(events: DomainEventDto[]): void {\n  const els = getElements();\n  if (!els.documentEvents) return;\n\n  els.documentEvents.innerHTML = events\n    .map((ev) => {\n      const ts = ev.created_at || ev.createdAt;\n      const when = ts ? new Date(ts).toLocaleString('pl-PL') : '';\n      const type = ev.event_type || ev.eventType || '';\n      return `<li>[${when}] ${escapeHtml(type)}</li>`;\n    })\n    .join('');\n}\n\nasync function saveDocument(): Promise<void> {\n  const els = getElements();\n  if (!els.docTitle || !els.docCategory || !els.docContent) return;\n\n  const title = els.docTitle.value.trim();\n  const category = els.docCategory.value.trim() || 'default';\n  const content = els.docContent.value.trim();\n\n  if (!title || !content) {\n    alert('Tytu\u0142 i tre\u015B\u0107 dokumentu nie mog\u0105 by\u0107 puste.');\n    return;\n  }\n\n  const payload = { title, category, content, source: null as string | null };\n\n  try {\n    let url: string;\n    let body: any;\n\n    if (currentDocumentId) {\n      url = `${API_URL}/commands/documents/update`;\n      body = {\n        id: currentDocumentId,\n        title,\n        source: null,\n        category,\n        content,\n      };\n    } else {\n      url = `${API_URL}/commands/documents/create`;\n      body = payload;\n    }\n\n    const resp = await fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(body),\n    });\n\n    if (!resp.ok) throw new Error(`HTTP ${resp.status}`);\n    const doc = (await resp.json()) as DocumentDto;\n    currentDocumentId = doc.id;\n    await loadDocuments();\n  } catch (err) {\n    console.error('Nie uda\u0142o si\u0119 zapisa\u0107 dokumentu:', err);\n    alert('Nie uda\u0142o si\u0119 zapisa\u0107 dokumentu. Sprawd\u017A logi API.');\n  }\n}\n\nasync function deleteDocument(): Promise<void> {\n  if (!currentDocumentId) return;\n  if (!confirm('Na pewno usun\u0105\u0107 ten dokument?')) return;\n\n  try {\n    const resp = await fetch(`${API_URL}/commands/documents/delete`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ id: currentDocumentId }),\n    });\n    if (!resp.ok) throw new Error(`HTTP ${resp.status}`);\n    currentDocumentId = null;\n    clearDocumentEditor();\n    await loadDocuments();\n  } catch (err) {\n    console.error('Nie uda\u0142o si\u0119 usun\u0105\u0107 dokumentu:', err);\n    alert('Nie uda\u0142o si\u0119 usun\u0105\u0107 dokumentu.');\n  }\n}\n\nfunction escapeHtml(text: string): string {\n  return text\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#039;');\n}\n\n", "const API_URL = '/api/v1';\n\ninterface ProjectDto {\n  id: number;\n  name: string;\n  description?: string | null;\n  contact?: string | null;\n}\n\ninterface ProjectFileDto {\n  id: number;\n  project_id?: number;\n  projectId?: number;\n  filename: string;\n  path?: string | null;\n}\n\ninterface ContextChannel {\n  id: string;\n  name: string;\n}\n\ninterface ContextChannelsResponse {\n  channels: ContextChannel[];\n}\n\nlet currentProjectId: number | null = null;\nlet currentFileId: number | null = null;\nlet currentContact: string | null = null;\n\nfunction getElements() {\n  return {\n    projectsList: document.getElementById('projects-list') as HTMLUListElement | null,\n    filesList: document.getElementById('files-list') as HTMLUListElement | null,\n  };\n}\n\nexport function initProjectsPanel(): void {\n  const els = getElements();\n  if (!els.projectsList || !els.filesList) return;\n\n  const contactItems = document.querySelectorAll<HTMLElement>('.contact-item');\n  contactItems.forEach((item) => {\n    item.addEventListener('click', () => {\n      contactItems.forEach((i) => i.classList.remove('active'));\n      item.classList.add('active');\n      currentContact = item.textContent?.trim() || null;\n      void loadProjects();\n    });\n  });\n\n  void loadProjects();\n}\n\nasync function loadProjects(): Promise<void> {\n  const els = getElements();\n  if (!els.projectsList) return;\n  try {\n    let url = `${API_URL}/projects?limit=50`;\n    if (currentContact) {\n      const encoded = encodeURIComponent(currentContact);\n      url = `${API_URL}/projects?contact=${encoded}&limit=50`;\n    }\n    const resp = await fetch(url);\n    if (!resp.ok) throw new Error(`HTTP ${resp.status}`);\n    const projects = (await resp.json()) as ProjectDto[];\n    renderProjects(projects || []);\n  } catch (err) {\n    console.error('Nie uda\u0142o si\u0119 pobra\u0107 projekt\u00F3w:', err);\n  }\n}\n\nfunction renderProjects(projects: ProjectDto[]): void {\n  const els = getElements();\n  if (!els.projectsList || !els.filesList) return;\n\n  els.projectsList.innerHTML = '';\n  currentProjectId = null;\n  currentFileId = null;\n  els.filesList.innerHTML = '';\n\n  projects.forEach((project) => {\n    const li = document.createElement('li');\n    li.className = 'project-item';\n    li.dataset.projectId = String(project.id);\n\n    const name = project.name || `Projekt ${project.id}`;\n    const icon = getProjectIcon(name);\n    li.innerHTML = `<span class=\"project-icon\">${icon}</span> ${escapeHtml(name)}`;\n\n    li.addEventListener('click', () => {\n      document.querySelectorAll('.project-item').forEach((i) => i.classList.remove('active'));\n      li.classList.add('active');\n      currentProjectId = project.id;\n      void loadProjectFiles(project.id);\n      void updateContextChannels();\n    });\n\n    els.projectsList!.appendChild(li);\n  });\n}\n\nasync function loadProjectFiles(projectId: number): Promise<void> {\n  const els = getElements();\n  if (!els.filesList) return;\n  try {\n    const resp = await fetch(`${API_URL}/projects/${projectId}/files`);\n    if (!resp.ok) throw new Error(`HTTP ${resp.status}`);\n    const files = (await resp.json()) as ProjectFileDto[];\n    renderFiles(files || []);\n  } catch (err) {\n    console.error('Nie uda\u0142o si\u0119 pobra\u0107 plik\u00F3w projektu:', err);\n  }\n}\n\nfunction renderFiles(files: ProjectFileDto[]): void {\n  const els = getElements();\n  if (!els.filesList) return;\n  els.filesList.innerHTML = '';\n  currentFileId = null;\n\n  files.forEach((file) => {\n    const li = document.createElement('li');\n    li.className = 'file-item';\n    li.dataset.fileId = String(file.id);\n    const icon = getFileIcon(file.filename || '');\n    li.innerHTML = `${icon} ${escapeHtml(file.filename || '')}`;\n\n    li.addEventListener('click', () => {\n      document.querySelectorAll('.file-item').forEach((i) => i.classList.remove('active'));\n      li.classList.add('active');\n      currentFileId = file.id;\n      void updateContextChannels();\n    });\n\n    els.filesList!.appendChild(li);\n  });\n}\n\nfunction getFileIcon(filename: string): string {\n  const ext = filename.split('.').pop()?.toLowerCase() || '';\n  const icons: Record<string, string> = {\n    pdf: '\uD83D\uDCD1',\n    doc: '\uD83D\uDCDD',\n    docx: '\uD83D\uDCDD',\n    xls: '\uD83D\uDCCA',\n    xlsx: '\uD83D\uDCCA',\n    txt: '\uD83D\uDCC4',\n    png: '\uD83D\uDDBC\uFE0F',\n    jpg: '\uD83D\uDDBC\uFE0F',\n    jpeg: '\uD83D\uDDBC\uFE0F',\n    gif: '\uD83D\uDDBC\uFE0F',\n    zip: '\uD83D\uDCE6',\n    rar: '\uD83D\uDCE6',\n  };\n  return icons[ext] || '\uD83D\uDCC4';\n}\n\nfunction getProjectIcon(name: string): string {\n  const lower = (name || '').toLowerCase();\n  if (lower.includes('ksef') || lower.includes('faktur')) return '\uD83D\uDCCB';\n  if (lower.includes('b2b') || lower.includes('umowa') || lower.includes('kontrakt')) return '\uD83D\uDCBC';\n  if (lower.includes('zus') || lower.includes('sk\u0142adk')) return '\uD83C\uDFE5';\n  if (lower.includes('vat') || lower.includes('jpk')) return '\uD83D\uDCB0';\n  return '\uD83D\uDCC1';\n}\n\nasync function updateContextChannels(): Promise<void> {\n  try {\n    const params = new URLSearchParams();\n    if (currentContact) params.append('contact', currentContact);\n    if (currentProjectId != null) params.append('project_id', String(currentProjectId));\n    if (currentFileId != null) params.append('file_id', String(currentFileId));\n\n    if (![...params.keys()].length) {\n      resetContextChannels();\n      return;\n    }\n\n    const resp = await fetch(`${API_URL}/context/channels?${params.toString()}`);\n    if (!resp.ok) throw new Error(`HTTP ${resp.status}`);\n    const data = (await resp.json()) as ContextChannelsResponse;\n\n    const channels = data.channels || [];\n    if (channels.length === 0) {\n      resetContextChannels();\n      return;\n    }\n\n    const first = channels[0];\n    if (first?.id && window.setModule) {\n      window.setModule(first.id as any);\n    }\n\n    const recommendedIds = new Set(channels.map((c) => c.id));\n    document.querySelectorAll<HTMLElement>('.channel-item').forEach((item) => {\n      const mod = item.dataset.module;\n      if (!mod) return;\n      item.classList.toggle('recommended', recommendedIds.has(mod));\n    });\n  } catch (err) {\n    console.error('Nie uda\u0142o si\u0119 pobra\u0107 kana\u0142\u00F3w kontekstowych:', err);\n    resetContextChannels();\n  }\n}\n\nfunction resetContextChannels(): void {\n  if (window.setModule) {\n    window.setModule('default' as any);\n  }\n  document.querySelectorAll<HTMLElement>('.channel-item').forEach((item) => {\n    const mod = item.dataset.module;\n    if (!mod) return;\n    item.classList.remove('recommended');\n    item.classList.toggle('active', mod === 'default');\n  });\n}\n\nfunction escapeHtml(text: string): string {\n  return text\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#039;');\n}\n\n", "const API_URL = '/api/v1';\n\nlet isEditMode = false;\nlet draggedModule: HTMLElement | null = null;\n\nfunction getElements() {\n  return {\n    panelLeft: document.getElementById('panel-left') as HTMLElement | null,\n    panelRight: document.getElementById('panel-right') as HTMLElement | null,\n    editToggle: document.getElementById('edit-dashboard-toggle') as HTMLElement | null,\n  };\n}\n\ninterface LayoutModuleConfig {\n  id: string;\n  column: 'left' | 'right';\n  order: number;\n}\n\nexport async function initDashboardLayout(): Promise<void> {\n  // Tymczasowo pusta implementacja - logika w modules/frontend/js/app.js\n  // Docelowo przeniesiemy tu funkcje initDashboardLayout, initDragAndDrop, saveCurrentLayout, itd.\n\n  const modules = document.querySelectorAll<HTMLElement>('.dashboard-module');\n  modules.forEach((el) => {\n    // Drag tylko w trybie edycji \u2013 domy\u015Blnie wy\u0142\u0105czony\n    el.classList.add('no-drag');\n  });\n\n  try {\n    const response = await fetch(`${API_URL}/layout`);\n    if (response.ok) {\n      const data = (await response.json()) as { modules?: LayoutModuleConfig[] };\n      if (data && Array.isArray(data.modules)) {\n        applyLayoutFromConfig(data.modules);\n      }\n    }\n  } catch (error) {\n    console.error('Nie uda\u0142o si\u0119 pobra\u0107 uk\u0142adu dashboardu:', error);\n  }\n\n  initDragAndDrop();\n  initEditToggle();\n}\n\nfunction applyLayoutFromConfig(configModules: LayoutModuleConfig[]): void {\n  const allModules: Record<string, HTMLElement> = {};\n  document.querySelectorAll<HTMLElement>('.dashboard-module').forEach((el) => {\n    const id = el.dataset.moduleId;\n    if (id) {\n      allModules[id] = el;\n    }\n  });\n\n  const { panelLeft, panelRight } = getElements();\n  if (!panelLeft || !panelRight) return;\n\n  panelLeft.innerHTML = '';\n  panelRight.innerHTML = '';\n\n  const byColumn: Record<'left' | 'right', HTMLElement> = {\n    left: panelLeft,\n    right: panelRight,\n  };\n\n  configModules\n    .slice()\n    .sort((a, b) => (a.order || 0) - (b.order || 0))\n    .forEach((cfg) => {\n      const el = allModules[cfg.id];\n      const panel = byColumn[cfg.column] || panelLeft;\n      if (el && panel) {\n        panel.appendChild(el);\n      }\n    });\n\n  Object.keys(allModules).forEach((id) => {\n    const el = allModules[id];\n    if (el && !el.parentElement) {\n      panelLeft.appendChild(el);\n    }\n  });\n}\n\nfunction initDragAndDrop(): void {\n  const modules = document.querySelectorAll<HTMLElement>('.dashboard-module');\n  modules.forEach((el) => {\n    el.addEventListener('dragstart', onModuleDragStart);\n    el.addEventListener('dragend', onModuleDragEnd);\n  });\n\n  const { panelLeft, panelRight } = getElements();\n  [panelLeft, panelRight].forEach((panel) => {\n    if (!panel) return;\n    panel.addEventListener('dragover', onPanelDragOver);\n    panel.addEventListener('drop', onPanelDrop);\n  });\n}\n\nfunction onModuleDragStart(event: DragEvent): void {\n  if (!isEditMode) {\n    event.preventDefault();\n    return;\n  }\n  const target = event.currentTarget as HTMLElement | null;\n  if (!target) return;\n  draggedModule = target;\n  if (event.dataTransfer) {\n    event.dataTransfer.effectAllowed = 'move';\n  }\n  draggedModule.classList.add('dragging');\n}\n\nfunction onModuleDragEnd(): void {\n  if (draggedModule) {\n    draggedModule.classList.remove('dragging');\n    draggedModule = null;\n  }\n}\n\nfunction onPanelDragOver(event: DragEvent): void {\n  if (!isEditMode) return;\n  event.preventDefault();\n}\n\nfunction onPanelDrop(event: DragEvent): void {\n  if (!isEditMode) return;\n  event.preventDefault();\n  if (!draggedModule) return;\n\n  const panel = event.currentTarget as HTMLElement | null;\n  if (!panel) return;\n\n  const targetElement = (event.target as HTMLElement | null)?.closest('.dashboard-module') as\n    | HTMLElement\n    | null;\n\n  if (targetElement && targetElement !== draggedModule && targetElement.parentElement === panel) {\n    panel.insertBefore(draggedModule, targetElement);\n  } else {\n    panel.appendChild(draggedModule);\n  }\n\n  draggedModule.classList.remove('dragging');\n  draggedModule = null;\n  saveCurrentLayout();\n}\n\nfunction saveCurrentLayout(): void {\n  const { panelLeft, panelRight } = getElements();\n  if (!panelLeft || !panelRight) return;\n\n  const config: { modules: LayoutModuleConfig[] } = { modules: [] };\n\n  const columns: Array<['left' | 'right', HTMLElement]> = [\n    ['left', panelLeft],\n    ['right', panelRight],\n  ];\n\n  columns.forEach(([column, panel]) => {\n    const mods = panel.querySelectorAll<HTMLElement>('.dashboard-module');\n    mods.forEach((el, index) => {\n      const id = el.dataset.moduleId;\n      if (!id) return;\n      config.modules.push({\n        id,\n        column,\n        order: index,\n      });\n    });\n  });\n\n  fetch(`${API_URL}/layout`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(config),\n  }).catch((err) => {\n    console.error('Nie uda\u0142o si\u0119 zapisa\u0107 uk\u0142adu dashboardu:', err);\n  });\n}\n\nfunction initEditToggle(): void {\n  const { editToggle } = getElements();\n  if (!editToggle) return;\n\n  editToggle.addEventListener('click', () => {\n    isEditMode = !isEditMode;\n    editToggle.classList.toggle('active', isEditMode);\n    editToggle.setAttribute('aria-pressed', String(isEditMode));\n\n    document.body.classList.toggle('dashboard-edit', isEditMode);\n\n    const modules = document.querySelectorAll<HTMLElement>('.dashboard-module');\n    modules.forEach((el) => {\n      if (isEditMode) {\n        el.classList.remove('no-drag');\n        el.setAttribute('draggable', 'true');\n      } else {\n        el.classList.add('no-drag');\n        el.removeAttribute('draggable');\n      }\n    });\n  });\n}\n\n", "import { initChat } from './ui/chat';\nimport { initDocumentsPanel } from './ui/documents';\nimport { initProjectsPanel } from './ui/projects';\nimport { initDashboardLayout } from './ui/dashboard';\n\nexport function bootstrap() {\n  document.addEventListener('DOMContentLoaded', () => {\n    try {\n      initChat();\n      initDocumentsPanel();\n      initProjectsPanel();\n      initDashboardLayout();\n    } catch (e) {\n      console.error('B\u0142\u0105d inicjalizacji frontendu (TS):', e);\n    }\n  });\n}\n\nbootstrap();\n"],
  "mappings": ";;;AAAA,MAAM,UAAU;AAIhB,MAAM,UAA4D;AAAA,IAChE,SAAS,EAAE,MAAM,aAAU,MAAM,YAAK;AAAA,IACtC,MAAM,EAAE,MAAM,QAAQ,MAAM,YAAK;AAAA,IACjC,KAAK,EAAE,MAAM,OAAO,MAAM,YAAK;AAAA,IAC/B,KAAK,EAAE,MAAM,OAAO,MAAM,YAAK;AAAA,IAC/B,KAAK,EAAE,MAAM,OAAO,MAAM,YAAK;AAAA,EACjC;AAUA,WAAS,eAAqB;AAC5B,UAAM,eAAe,SAAS,iBAA8B,eAAe;AAC3E,QAAI,CAAC,aAAa,OAAQ;AAE1B,iBAAa,QAAQ,CAAC,SAAS;AAC7B,WAAK,iBAAiB,SAAS,MAAM;AACnC,cAAM,WAAW,KAAK,QAAQ;AAC9B,YAAI,CAAC,SAAU;AAEf,qBAAa,QAAQ,CAAC,MAAM,EAAE,UAAU,OAAO,QAAQ,CAAC;AACxD,aAAK,UAAU,IAAI,QAAQ;AAC3B,kBAAU,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAsBA,MAAM,WAAyB;AAAA,IAC7B,UAAU,SAAS,eAAe,UAAU;AAAA,IAC5C,MAAM,SAAS,eAAe,WAAW;AAAA,IACzC,OAAO,SAAS,eAAe,YAAY;AAAA,IAC3C,SAAS,SAAS,eAAe,UAAU;AAAA,IAC3C,QAAQ,SAAS,eAAe,QAAQ;AAAA,IACxC,YAAY,SAAS,cAAc,cAAc;AAAA,IACjD,eAAe,SAAS,eAAe,gBAAgB;AAAA,IACvD,WAAW,SAAS,eAAe,YAAY;AAAA,IAC/C,cAAc,SAAS,eAAe,eAAe;AAAA,IACrD,aAAa,SAAS,eAAe,cAAc;AAAA,IACnD,cAAc,SAAS,eAAe,eAAe;AAAA,IACrD,gBAAgB,SAAS,eAAe,iBAAiB;AAAA,EAC3D;AAEA,MAAI,gBAA0B;AAC9B,MAAI,YAAY;AAChB,MAAI,cAA4B,CAAC;AAE1B,WAAS,WAAiB;AAC/B,QAAI,CAAC,SAAS,QAAQ,CAAC,SAAS,SAAS,CAAC,SAAS,SAAU;AAE7D,sBAAkB;AAClB,iBAAa;AACb,aAAS;AACT,uBAAmB;AACnB,qBAAiB;AACjB,SAAK,YAAY;AAEjB,aAAS,MAAM,MAAM;AAAA,EACvB;AAEA,WAAS,oBAA0B;AACjC,UAAM,UAAU,SAAS,iBAA8B,aAAa;AACpE,YAAQ,QAAQ,CAAC,QAAQ;AACvB,YAAM,WAAW,IAAI,QAAQ;AAC7B,UAAI,CAAC,SAAU;AACf,UAAI,iBAAiB,SAAS,MAAM;AAClC,kBAAU,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAEA,WAAS,WAAiB;AACxB,UAAM,EAAE,MAAM,OAAO,UAAU,IAAI;AACnC,QAAI,CAAC,QAAQ,CAAC,MAAO;AAErB,SAAK,iBAAiB,UAAU,OAAO,MAAM;AAC3C,QAAE,eAAe;AACjB,YAAM,UAAU,MAAM,MAAM,KAAK;AACjC,UAAI,CAAC,WAAW,UAAW;AAC3B,YAAM,YAAY,OAAO;AAAA,IAC3B,CAAC;AAED,UAAM,iBAAiB,SAAS,MAAM;AACpC,UAAI,CAAC,UAAW;AAChB,YAAM,QAAQ,MAAM,MAAM;AAC1B,gBAAU,cAAc,GAAG,KAAK;AAAA,IAClC,CAAC;AAED,UAAM,iBAAiB,WAAW,CAAC,MAAM;AACvC,YAAM,KAAK;AACX,UAAI,GAAG,QAAQ,WAAW,CAAC,GAAG,UAAU;AACtC,WAAG,eAAe;AAClB,aAAK,cAAc,IAAI,MAAM,QAAQ,CAAC;AAAA,MACxC;AAAA,IACF,CAAC;AAAA,EACH;AAEA,iBAAe,YAAY,SAAgC;AACzD,gBAAY;AACZ,oBAAgB,IAAI;AAEpB,QAAI,SAAS,gBAAgB;AAC3B,eAAS,eAAe,MAAM,UAAU;AAAA,IAC1C;AAEA,eAAW,SAAS,MAAM;AAC1B,QAAI,SAAS,SAAS,SAAS,WAAW;AACxC,eAAS,MAAM,QAAQ;AACvB,eAAS,UAAU,cAAc;AAAA,IACnC;AAEA,UAAM,YAAY,WAAW,IAAI,aAAa,IAAI;AAElD,QAAI;AACF,YAAM,WAAW,MAAM,MAAM,GAAG,OAAO,SAAS;AAAA,QAC9C,QAAQ;AAAA,QACR,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,QAC9C,MAAM,KAAK,UAAU;AAAA,UACnB;AAAA,UACA,QAAQ;AAAA,QACV,CAAC;AAAA,MACH,CAAC;AAED,UAAI,CAAC,SAAS,IAAI;AAChB,cAAM,IAAI,MAAM,QAAQ,SAAS,MAAM,EAAE;AAAA,MAC3C;AAEA,YAAM,OAAQ,MAAM,SAAS,KAAK;AAClC,oBAAc,SAAS;AACvB,iBAAW,KAAK,UAAU,aAAa,OAAO,KAAK,WAAW,CAAC,CAAC;AAChE,oBAAc,KAAK,WAAW,CAAC;AAAA,IACjC,SAAS,OAAO;AACd,cAAQ,MAAM,UAAU,KAAK;AAC7B,oBAAc,SAAS;AACvB;AAAA,QACE;AAAA,QACA;AAAA,MACF;AAAA,IACF,UAAE;AACA,kBAAY;AACZ,sBAAgB,KAAK;AACrB,eAAS,OAAO,MAAM;AAAA,IACxB;AAAA,EACF;AAEA,WAAS,WAAW,MAAc,MAAgB,eAAe,OAAO,SAAuC;AAC7G,UAAM,KAAK,OAAO,KAAK,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,MAAM,CAAC,CAAC;AAEnE,QAAI,CAAC,SAAS,SAAU,QAAO;AAE/B,UAAM,aAAa,SAAS,cAAc,KAAK;AAC/C,eAAW,KAAK;AAChB,eAAW,YAAY,WAAW,IAAI,GAAG,eAAe,aAAa,EAAE;AAEvE,UAAM,SAAS,SAAS,SAAS,cAAO;AAExC,QAAI,cAAc,cAAc,IAAI;AAEpC,QAAI,WAAW,QAAQ,SAAS,GAAG;AACjC,qBAAe;AAAA;AAAA,wDAEiB,QAAQ,MAAM;AAAA;AAAA;AAAA,IAGhD;AAEA,eAAW,YAAY;AAAA,sCACa,MAAM;AAAA,uCACL,WAAW;AAAA;AAGhD,aAAS,SAAS,YAAY,UAAU;AACxC,mBAAe;AAEf,WAAO;AAAA,EACT;AAEA,WAAS,cAAc,IAAkB;AACvC,UAAM,KAAK,SAAS,eAAe,EAAE;AACrC,QAAI,GAAI,IAAG,OAAO;AAAA,EACpB;AAEA,WAAS,cAAc,MAAsB;AAC3C,QAAI,CAAC,KAAM,QAAO;AAElB,QAAI,OAAO,KACR,QAAQ,MAAM,OAAO,EACrB,QAAQ,MAAM,MAAM,EACpB,QAAQ,MAAM,MAAM;AAEvB,WAAO,KAAK,QAAQ,kBAAkB,qBAAqB;AAC3D,WAAO,KAAK,QAAQ,qBAAqB,4BAA4B;AACrE,WAAO,KAAK,QAAQ,YAAY,iBAAiB;AACjD,WAAO,KAAK,QAAQ,SAAS,SAAS;AACtC,WAAO,KAAK,QAAQ,OAAO,MAAM;AAEjC,QAAI,CAAC,KAAK,WAAW,KAAK,GAAG;AAC3B,aAAO,MAAM,IAAI;AAAA,IACnB;AAEA,WAAO;AAAA,EACT;AAEA,WAAS,iBAAuB;AAC9B,QAAI,CAAC,SAAS,SAAU;AACxB,aAAS,SAAS,YAAY,SAAS,SAAS;AAAA,EAClD;AAEA,WAAS,gBAAgB,SAAwB;AAC/C,QAAI,SAAS,QAAS,UAAS,QAAQ,WAAW;AAClD,QAAI,SAAS,MAAO,UAAS,MAAM,WAAW;AAAA,EAChD;AAEA,WAAS,qBAA2B;AAClC,UAAM,UAAU,SAAS,iBAA8B,YAAY;AACnE,QAAI,CAAC,QAAQ,OAAQ;AAErB,YAAQ,QAAQ,CAAC,QAAQ;AACvB,UAAI,iBAAiB,SAAS,MAAM;AAClC,cAAM,WAAW,IAAI,QAAQ,YAAY;AACzC,cAAM,WAAW,IAAI,QAAQ;AAE7B,YAAI,YAAY,aAAa,eAAe;AAC1C,oBAAU,QAAQ;AAAA,QACpB;AAEA,YAAI,SAAS,OAAO;AAClB,mBAAS,MAAM,QAAQ;AACvB,mBAAS,MAAM,cAAc,IAAI,MAAM,QAAQ,CAAC;AAAA,QAClD;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAEA,WAAS,mBAAyB;AAChC,QAAI,SAAS,cAAc;AACzB,eAAS,aAAa,iBAAiB,SAAS,WAAW;AAAA,IAC7D;AAEA,aAAS,iBAAiB,SAAS,CAAC,MAAM;AACxC,UAAI,CAAC,SAAS,aAAc;AAE5B,YAAM,SAAS,EAAE;AACjB,UAAI,CAAC,OAAQ;AAEb,YAAM,qBAAqB,SAAS,aAAa,SAAS,MAAM;AAChE,YAAM,gBAAgB,OAAO,UAAU,SAAS,cAAc;AAE9D,UAAI,CAAC,sBAAsB,CAAC,eAAe;AACzC,oBAAY;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAEA,WAAS,cAAoB;AAC3B,QAAI,CAAC,SAAS,gBAAgB,CAAC,SAAS,YAAa;AACrD,QAAI,CAAC,YAAY,OAAQ;AAEzB,aAAS,YAAY,YAAY,YAC9B;AAAA,MACC,CAAC,WAAW;AAAA;AAAA,wCAEsB,WAAW,OAAO,KAAK,CAAC;AAAA;AAAA,kBAE9C,WAAW,OAAO,MAAM,CAAC;AAAA,kDACO,KAAK,MAAM,OAAO,aAAa,GAAG,CAAC;AAAA;AAAA;AAAA;AAAA,IAIjF,EACC,KAAK,EAAE;AAEV,aAAS,aAAa,UAAU,OAAO,QAAQ;AAC/C,aAAS,aAAa,UAAU,IAAI,SAAS;AAAA,EAC/C;AAEA,WAAS,cAAoB;AAC3B,QAAI,CAAC,SAAS,aAAc;AAC5B,aAAS,aAAa,UAAU,OAAO,SAAS;AAChD,eAAW,MAAM;AACf,eAAS,gBAAgB,SAAS,aAAa,UAAU,IAAI,QAAQ;AAAA,IACvE,GAAG,GAAG;AAAA,EACR;AAEA,iBAAe,cAA6B;AAC1C,QAAI;AACF,YAAM,UAAU,QAAQ,QAAQ,WAAW,EAAE;AAC7C,YAAM,WAAW,MAAM,MAAM,GAAG,OAAO,SAAS;AAChD,YAAM,OAAO,MAAM,SAAS,KAAK;AAEjC,UAAI,CAAC,SAAS,UAAU,CAAC,SAAS,WAAY;AAE9C,UAAI,KAAK,WAAW,WAAW;AAC7B,iBAAS,OAAO,UAAU,IAAI,SAAS;AACvC,iBAAS,OAAO,UAAU,OAAO,WAAW;AAC5C,iBAAS,WAAW,cAAc;AAAA,MACpC,WAAW,KAAK,WAAW,YAAY;AACrC,iBAAS,WAAW,cAAc;AAClC,YAAI,KAAK,UAAU,UAAU,cAAc;AACzC,mBAAS,WAAW,cAAc;AAAA,QACpC;AAAA,MACF,OAAO;AACL,iBAAS,OAAO,UAAU,IAAI,WAAW;AACzC,iBAAS,WAAW,cAAc;AAAA,MACpC;AAAA,IACF,SAAS,OAAO;AACd,cAAQ,MAAM,wBAAwB,KAAK;AAC3C,UAAI,SAAS,UAAU,SAAS,YAAY;AAC1C,iBAAS,OAAO,UAAU,IAAI,WAAW;AACzC,iBAAS,WAAW,cAAc;AAAA,MACpC;AAAA,IACF,UAAE;AACA,iBAAW,MAAM;AACf,aAAK,YAAY;AAAA,MACnB,GAAG,GAAK;AAAA,IACV;AAAA,EACF;AAEA,WAAS,UAAU,QAAwB;AACzC,oBAAgB;AAEhB,aAAS,iBAA8B,aAAa,EAAE,QAAQ,CAAC,QAAQ;AACrE,UAAI,UAAU,OAAO,UAAU,IAAI,QAAQ,WAAW,MAAM;AAAA,IAC9D,CAAC;AAED,QAAI,SAAS,eAAe;AAC1B,YAAM,OAAO,QAAQ,MAAM;AAC3B,eAAS,cAAc,cAAc,eAAU,KAAK,IAAI;AAAA,IAC1D;AAEA,UAAM,WAAqC;AAAA,MACzC,SAAS;AAAA,MACT,MAAM;AAAA,MACN,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP;AAEA,eAAW,SAAS,MAAM,GAAG,WAAW;AACxC,aAAS,OAAO,MAAM;AAAA,EACxB;AAEA,WAAS,WAAW,MAAsB;AACxC,WAAO,KACJ,QAAQ,MAAM,OAAO,EACrB,QAAQ,MAAM,MAAM,EACpB,QAAQ,MAAM,MAAM,EACpB,QAAQ,MAAM,QAAQ,EACtB,QAAQ,MAAM,QAAQ;AAAA,EAC3B;AAUA,MAAI,OAAO,WAAW,aAAa;AACjC,WAAO,cAAc;AACrB,WAAO,YAAY;AAAA,EACrB;;;ACtYA,MAAMA,WAAU;AAkBhB,MAAI,oBAAmC;AAEvC,WAAS,cAAc;AACrB,WAAO;AAAA,MACL,eAAe,SAAS,eAAe,gBAAgB;AAAA,MACvD,kBAAkB,SAAS,eAAe,mBAAmB;AAAA,MAC7D,UAAU,SAAS,eAAe,WAAW;AAAA,MAC7C,aAAa,SAAS,eAAe,cAAc;AAAA,MACnD,YAAY,SAAS,eAAe,aAAa;AAAA,MACjD,QAAQ,SAAS,eAAe,SAAS;AAAA,MACzC,WAAW,SAAS,eAAe,YAAY;AAAA,MAC/C,SAAS,SAAS,eAAe,UAAU;AAAA,MAC3C,gBAAgB,SAAS,eAAe,iBAAiB;AAAA,IAC3D;AAAA,EACF;AAEO,WAAS,qBAA2B;AACzC,UAAM,MAAM,YAAY;AACxB,QAAI,CAAC,IAAI,cAAe;AAExB,QAAI,kBAAkB,iBAAiB,SAAS,aAAa;AAC7D,QAAI,QAAQ,iBAAiB,SAAS,MAAM;AAC1C,0BAAoB;AACpB,0BAAoB;AAAA,IACtB,CAAC;AACD,QAAI,SAAS,iBAAiB,SAAS,YAAY;AACnD,QAAI,WAAW,iBAAiB,SAAS,cAAc;AAEvD,SAAK,cAAc;AAAA,EACrB;AAEA,iBAAe,gBAA+B;AAC5C,UAAM,MAAM,YAAY;AACxB,QAAI,CAAC,IAAI,cAAe;AACxB,QAAI;AACF,YAAM,OAAO,MAAM,MAAM,GAAGA,SAAQ,QAAQ,WAAW,EAAE,CAAC,4BAA4B;AACtF,UAAI,CAAC,KAAK,GAAI,OAAM,IAAI,MAAM,QAAQ,KAAK,MAAM,EAAE;AACnD,YAAM,OAAQ,MAAM,KAAK,KAAK;AAC9B,0BAAoB,QAAQ,CAAC,CAAC;AAAA,IAChC,SAAS,KAAK;AACZ,cAAQ,MAAM,sDAAoC,GAAG;AAAA,IACvD;AAAA,EACF;AAEA,WAAS,oBAAoB,MAA2B;AACtD,UAAM,MAAM,YAAY;AACxB,QAAI,CAAC,IAAI,cAAe;AAExB,QAAI,cAAc,YAAY;AAC9B,SAAK,QAAQ,CAAC,QAAQ;AACpB,YAAM,KAAK,SAAS,cAAc,IAAI;AACtC,SAAG,YAAY;AACf,SAAG,QAAQ,KAAK,OAAO,IAAI,EAAE;AAC7B,SAAG,cAAc,GAAG,IAAI,KAAK,KAAK,IAAI,QAAQ;AAC9C,SAAG,iBAAiB,SAAS,MAAM;AACjC,uBAAe,KAAK,EAAE;AAAA,MACxB,CAAC;AACD,UAAI,cAAe,YAAY,EAAE;AAAA,IACnC,CAAC;AAAA,EACH;AAEA,WAAS,eAAe,KAAkB,SAAqC;AAC7E,wBAAoB,IAAI;AACxB,aAAS,iBAAgC,gBAAgB,EAAE,QAAQ,CAAC,OAAO,GAAG,UAAU,OAAO,QAAQ,CAAC;AACxG,QAAI,QAAS,SAAQ,UAAU,IAAI,QAAQ;AAE3C,UAAM,MAAM,YAAY;AACxB,QAAI,IAAI,SAAU,KAAI,SAAS,QAAQ,IAAI,SAAS;AACpD,QAAI,IAAI,YAAa,KAAI,YAAY,QAAQ,IAAI,YAAY;AAC7D,QAAI,IAAI,WAAY,KAAI,WAAW,QAAQ,IAAI,WAAW;AAE1D,SAAK,mBAAmB,IAAI,EAAE;AAAA,EAChC;AAEA,WAAS,sBAA4B;AACnC,aAAS,iBAAgC,gBAAgB,EAAE,QAAQ,CAAC,OAAO,GAAG,UAAU,OAAO,QAAQ,CAAC;AACxG,UAAM,MAAM,YAAY;AACxB,QAAI,IAAI,SAAU,KAAI,SAAS,QAAQ;AACvC,QAAI,IAAI,YAAa,KAAI,YAAY,QAAQ;AAC7C,QAAI,IAAI,WAAY,KAAI,WAAW,QAAQ;AAC3C,QAAI,IAAI,gBAAgB;AACtB,UAAI,eAAe,YAAY;AAAA,IACjC;AAAA,EACF;AAEA,iBAAe,mBAAmB,YAAmC;AACnE,UAAM,MAAM,YAAY;AACxB,QAAI,CAAC,IAAI,eAAgB;AACzB,QAAI;AACF,YAAM,OAAO,MAAM,MAAM,GAAGA,QAAO,qBAAqB,UAAU,EAAE;AACpE,UAAI,CAAC,KAAK,GAAI,OAAM,IAAI,MAAM,QAAQ,KAAK,MAAM,EAAE;AACnD,YAAM,SAAU,MAAM,KAAK,KAAK;AAChC,2BAAqB,UAAU,CAAC,CAAC;AAAA,IACnC,SAAS,KAAK;AACZ,cAAQ,MAAM,2DAA4C,GAAG;AAAA,IAC/D;AAAA,EACF;AAEA,WAAS,qBAAqB,QAAgC;AAC5D,UAAM,MAAM,YAAY;AACxB,QAAI,CAAC,IAAI,eAAgB;AAEzB,QAAI,eAAe,YAAY,OAC5B,IAAI,CAAC,OAAO;AACX,YAAM,KAAK,GAAG,cAAc,GAAG;AAC/B,YAAM,OAAO,KAAK,IAAI,KAAK,EAAE,EAAE,eAAe,OAAO,IAAI;AACzD,YAAM,OAAO,GAAG,cAAc,GAAG,aAAa;AAC9C,aAAO,QAAQ,IAAI,KAAKC,YAAW,IAAI,CAAC;AAAA,IAC1C,CAAC,EACA,KAAK,EAAE;AAAA,EACZ;AAEA,iBAAe,eAA8B;AAC3C,UAAM,MAAM,YAAY;AACxB,QAAI,CAAC,IAAI,YAAY,CAAC,IAAI,eAAe,CAAC,IAAI,WAAY;AAE1D,UAAM,QAAQ,IAAI,SAAS,MAAM,KAAK;AACtC,UAAM,WAAW,IAAI,YAAY,MAAM,KAAK,KAAK;AACjD,UAAM,UAAU,IAAI,WAAW,MAAM,KAAK;AAE1C,QAAI,CAAC,SAAS,CAAC,SAAS;AACtB,YAAM,sEAA6C;AACnD;AAAA,IACF;AAEA,UAAM,UAAU,EAAE,OAAO,UAAU,SAAS,QAAQ,KAAsB;AAE1E,QAAI;AACF,UAAI;AACJ,UAAI;AAEJ,UAAI,mBAAmB;AACrB,cAAM,GAAGD,QAAO;AAChB,eAAO;AAAA,UACL,IAAI;AAAA,UACJ;AAAA,UACA,QAAQ;AAAA,UACR;AAAA,UACA;AAAA,QACF;AAAA,MACF,OAAO;AACL,cAAM,GAAGA,QAAO;AAChB,eAAO;AAAA,MACT;AAEA,YAAM,OAAO,MAAM,MAAM,KAAK;AAAA,QAC5B,QAAQ;AAAA,QACR,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,QAC9C,MAAM,KAAK,UAAU,IAAI;AAAA,MAC3B,CAAC;AAED,UAAI,CAAC,KAAK,GAAI,OAAM,IAAI,MAAM,QAAQ,KAAK,MAAM,EAAE;AACnD,YAAM,MAAO,MAAM,KAAK,KAAK;AAC7B,0BAAoB,IAAI;AACxB,YAAM,cAAc;AAAA,IACtB,SAAS,KAAK;AACZ,cAAQ,MAAM,mDAAoC,GAAG;AACrD,YAAM,wEAAoD;AAAA,IAC5D;AAAA,EACF;AAEA,iBAAe,iBAAgC;AAC7C,QAAI,CAAC,kBAAmB;AACxB,QAAI,CAAC,QAAQ,yCAA+B,EAAG;AAE/C,QAAI;AACF,YAAM,OAAO,MAAM,MAAM,GAAGA,QAAO,8BAA8B;AAAA,QAC/D,QAAQ;AAAA,QACR,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,QAC9C,MAAM,KAAK,UAAU,EAAE,IAAI,kBAAkB,CAAC;AAAA,MAChD,CAAC;AACD,UAAI,CAAC,KAAK,GAAI,OAAM,IAAI,MAAM,QAAQ,KAAK,MAAM,EAAE;AACnD,0BAAoB;AACpB,0BAAoB;AACpB,YAAM,cAAc;AAAA,IACtB,SAAS,KAAK;AACZ,cAAQ,MAAM,uDAAmC,GAAG;AACpD,YAAM,qDAAiC;AAAA,IACzC;AAAA,EACF;AAEA,WAASC,YAAW,MAAsB;AACxC,WAAO,KACJ,QAAQ,MAAM,OAAO,EACrB,QAAQ,MAAM,MAAM,EACpB,QAAQ,MAAM,MAAM,EACpB,QAAQ,MAAM,QAAQ,EACtB,QAAQ,MAAM,QAAQ;AAAA,EAC3B;;;AC9MA,MAAMC,WAAU;AA0BhB,MAAI,mBAAkC;AACtC,MAAI,gBAA+B;AACnC,MAAI,iBAAgC;AAEpC,WAASC,eAAc;AACrB,WAAO;AAAA,MACL,cAAc,SAAS,eAAe,eAAe;AAAA,MACrD,WAAW,SAAS,eAAe,YAAY;AAAA,IACjD;AAAA,EACF;AAEO,WAAS,oBAA0B;AACxC,UAAM,MAAMA,aAAY;AACxB,QAAI,CAAC,IAAI,gBAAgB,CAAC,IAAI,UAAW;AAEzC,UAAM,eAAe,SAAS,iBAA8B,eAAe;AAC3E,iBAAa,QAAQ,CAAC,SAAS;AAC7B,WAAK,iBAAiB,SAAS,MAAM;AACnC,qBAAa,QAAQ,CAAC,MAAM,EAAE,UAAU,OAAO,QAAQ,CAAC;AACxD,aAAK,UAAU,IAAI,QAAQ;AAC3B,yBAAiB,KAAK,aAAa,KAAK,KAAK;AAC7C,aAAK,aAAa;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,SAAK,aAAa;AAAA,EACpB;AAEA,iBAAe,eAA8B;AAC3C,UAAM,MAAMA,aAAY;AACxB,QAAI,CAAC,IAAI,aAAc;AACvB,QAAI;AACF,UAAI,MAAM,GAAGD,QAAO;AACpB,UAAI,gBAAgB;AAClB,cAAM,UAAU,mBAAmB,cAAc;AACjD,cAAM,GAAGA,QAAO,qBAAqB,OAAO;AAAA,MAC9C;AACA,YAAM,OAAO,MAAM,MAAM,GAAG;AAC5B,UAAI,CAAC,KAAK,GAAI,OAAM,IAAI,MAAM,QAAQ,KAAK,MAAM,EAAE;AACnD,YAAM,WAAY,MAAM,KAAK,KAAK;AAClC,qBAAe,YAAY,CAAC,CAAC;AAAA,IAC/B,SAAS,KAAK;AACZ,cAAQ,MAAM,qDAAmC,GAAG;AAAA,IACtD;AAAA,EACF;AAEA,WAAS,eAAe,UAA8B;AACpD,UAAM,MAAMC,aAAY;AACxB,QAAI,CAAC,IAAI,gBAAgB,CAAC,IAAI,UAAW;AAEzC,QAAI,aAAa,YAAY;AAC7B,uBAAmB;AACnB,oBAAgB;AAChB,QAAI,UAAU,YAAY;AAE1B,aAAS,QAAQ,CAAC,YAAY;AAC5B,YAAM,KAAK,SAAS,cAAc,IAAI;AACtC,SAAG,YAAY;AACf,SAAG,QAAQ,YAAY,OAAO,QAAQ,EAAE;AAExC,YAAM,OAAO,QAAQ,QAAQ,WAAW,QAAQ,EAAE;AAClD,YAAM,OAAO,eAAe,IAAI;AAChC,SAAG,YAAY,8BAA8B,IAAI,WAAWC,YAAW,IAAI,CAAC;AAE5E,SAAG,iBAAiB,SAAS,MAAM;AACjC,iBAAS,iBAAiB,eAAe,EAAE,QAAQ,CAAC,MAAM,EAAE,UAAU,OAAO,QAAQ,CAAC;AACtF,WAAG,UAAU,IAAI,QAAQ;AACzB,2BAAmB,QAAQ;AAC3B,aAAK,iBAAiB,QAAQ,EAAE;AAChC,aAAK,sBAAsB;AAAA,MAC7B,CAAC;AAED,UAAI,aAAc,YAAY,EAAE;AAAA,IAClC,CAAC;AAAA,EACH;AAEA,iBAAe,iBAAiB,WAAkC;AAChE,UAAM,MAAMD,aAAY;AACxB,QAAI,CAAC,IAAI,UAAW;AACpB,QAAI;AACF,YAAM,OAAO,MAAM,MAAM,GAAGD,QAAO,aAAa,SAAS,QAAQ;AACjE,UAAI,CAAC,KAAK,GAAI,OAAM,IAAI,MAAM,QAAQ,KAAK,MAAM,EAAE;AACnD,YAAM,QAAS,MAAM,KAAK,KAAK;AAC/B,kBAAY,SAAS,CAAC,CAAC;AAAA,IACzB,SAAS,KAAK;AACZ,cAAQ,MAAM,2DAAyC,GAAG;AAAA,IAC5D;AAAA,EACF;AAEA,WAAS,YAAY,OAA+B;AAClD,UAAM,MAAMC,aAAY;AACxB,QAAI,CAAC,IAAI,UAAW;AACpB,QAAI,UAAU,YAAY;AAC1B,oBAAgB;AAEhB,UAAM,QAAQ,CAAC,SAAS;AACtB,YAAM,KAAK,SAAS,cAAc,IAAI;AACtC,SAAG,YAAY;AACf,SAAG,QAAQ,SAAS,OAAO,KAAK,EAAE;AAClC,YAAM,OAAO,YAAY,KAAK,YAAY,EAAE;AAC5C,SAAG,YAAY,GAAG,IAAI,IAAIC,YAAW,KAAK,YAAY,EAAE,CAAC;AAEzD,SAAG,iBAAiB,SAAS,MAAM;AACjC,iBAAS,iBAAiB,YAAY,EAAE,QAAQ,CAAC,MAAM,EAAE,UAAU,OAAO,QAAQ,CAAC;AACnF,WAAG,UAAU,IAAI,QAAQ;AACzB,wBAAgB,KAAK;AACrB,aAAK,sBAAsB;AAAA,MAC7B,CAAC;AAED,UAAI,UAAW,YAAY,EAAE;AAAA,IAC/B,CAAC;AAAA,EACH;AAEA,WAAS,YAAY,UAA0B;AAC7C,UAAM,MAAM,SAAS,MAAM,GAAG,EAAE,IAAI,GAAG,YAAY,KAAK;AACxD,UAAM,QAAgC;AAAA,MACpC,KAAK;AAAA,MACL,KAAK;AAAA,MACL,MAAM;AAAA,MACN,KAAK;AAAA,MACL,MAAM;AAAA,MACN,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,MAAM;AAAA,MACN,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP;AACA,WAAO,MAAM,GAAG,KAAK;AAAA,EACvB;AAEA,WAAS,eAAe,MAAsB;AAC5C,UAAM,SAAS,QAAQ,IAAI,YAAY;AACvC,QAAI,MAAM,SAAS,MAAM,KAAK,MAAM,SAAS,QAAQ,EAAG,QAAO;AAC/D,QAAI,MAAM,SAAS,KAAK,KAAK,MAAM,SAAS,OAAO,KAAK,MAAM,SAAS,UAAU,EAAG,QAAO;AAC3F,QAAI,MAAM,SAAS,KAAK,KAAK,MAAM,SAAS,aAAQ,EAAG,QAAO;AAC9D,QAAI,MAAM,SAAS,KAAK,KAAK,MAAM,SAAS,KAAK,EAAG,QAAO;AAC3D,WAAO;AAAA,EACT;AAEA,iBAAe,wBAAuC;AACpD,QAAI;AACF,YAAM,SAAS,IAAI,gBAAgB;AACnC,UAAI,eAAgB,QAAO,OAAO,WAAW,cAAc;AAC3D,UAAI,oBAAoB,KAAM,QAAO,OAAO,cAAc,OAAO,gBAAgB,CAAC;AAClF,UAAI,iBAAiB,KAAM,QAAO,OAAO,WAAW,OAAO,aAAa,CAAC;AAEzE,UAAI,CAAC,CAAC,GAAG,OAAO,KAAK,CAAC,EAAE,QAAQ;AAC9B,6BAAqB;AACrB;AAAA,MACF;AAEA,YAAM,OAAO,MAAM,MAAM,GAAGF,QAAO,qBAAqB,OAAO,SAAS,CAAC,EAAE;AAC3E,UAAI,CAAC,KAAK,GAAI,OAAM,IAAI,MAAM,QAAQ,KAAK,MAAM,EAAE;AACnD,YAAM,OAAQ,MAAM,KAAK,KAAK;AAE9B,YAAM,WAAW,KAAK,YAAY,CAAC;AACnC,UAAI,SAAS,WAAW,GAAG;AACzB,6BAAqB;AACrB;AAAA,MACF;AAEA,YAAM,QAAQ,SAAS,CAAC;AACxB,UAAI,OAAO,MAAM,OAAO,WAAW;AACjC,eAAO,UAAU,MAAM,EAAS;AAAA,MAClC;AAEA,YAAM,iBAAiB,IAAI,IAAI,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC;AACxD,eAAS,iBAA8B,eAAe,EAAE,QAAQ,CAAC,SAAS;AACxE,cAAM,MAAM,KAAK,QAAQ;AACzB,YAAI,CAAC,IAAK;AACV,aAAK,UAAU,OAAO,eAAe,eAAe,IAAI,GAAG,CAAC;AAAA,MAC9D,CAAC;AAAA,IACH,SAAS,KAAK;AACZ,cAAQ,MAAM,sEAA+C,GAAG;AAChE,2BAAqB;AAAA,IACvB;AAAA,EACF;AAEA,WAAS,uBAA6B;AACpC,QAAI,OAAO,WAAW;AACpB,aAAO,UAAU,SAAgB;AAAA,IACnC;AACA,aAAS,iBAA8B,eAAe,EAAE,QAAQ,CAAC,SAAS;AACxE,YAAM,MAAM,KAAK,QAAQ;AACzB,UAAI,CAAC,IAAK;AACV,WAAK,UAAU,OAAO,aAAa;AACnC,WAAK,UAAU,OAAO,UAAU,QAAQ,SAAS;AAAA,IACnD,CAAC;AAAA,EACH;AAEA,WAASE,YAAW,MAAsB;AACxC,WAAO,KACJ,QAAQ,MAAM,OAAO,EACrB,QAAQ,MAAM,MAAM,EACpB,QAAQ,MAAM,MAAM,EACpB,QAAQ,MAAM,QAAQ,EACtB,QAAQ,MAAM,QAAQ;AAAA,EAC3B;;;ACjOA,MAAMC,WAAU;AAEhB,MAAI,aAAa;AACjB,MAAI,gBAAoC;AAExC,WAASC,eAAc;AACrB,WAAO;AAAA,MACL,WAAW,SAAS,eAAe,YAAY;AAAA,MAC/C,YAAY,SAAS,eAAe,aAAa;AAAA,MACjD,YAAY,SAAS,eAAe,uBAAuB;AAAA,IAC7D;AAAA,EACF;AAQA,iBAAsB,sBAAqC;AAIzD,UAAM,UAAU,SAAS,iBAA8B,mBAAmB;AAC1E,YAAQ,QAAQ,CAAC,OAAO;AAEtB,SAAG,UAAU,IAAI,SAAS;AAAA,IAC5B,CAAC;AAED,QAAI;AACF,YAAM,WAAW,MAAM,MAAM,GAAGD,QAAO,SAAS;AAChD,UAAI,SAAS,IAAI;AACf,cAAM,OAAQ,MAAM,SAAS,KAAK;AAClC,YAAI,QAAQ,MAAM,QAAQ,KAAK,OAAO,GAAG;AACvC,gCAAsB,KAAK,OAAO;AAAA,QACpC;AAAA,MACF;AAAA,IACF,SAAS,OAAO;AACd,cAAQ,MAAM,+DAA2C,KAAK;AAAA,IAChE;AAEA,oBAAgB;AAChB,mBAAe;AAAA,EACjB;AAEA,WAAS,sBAAsB,eAA2C;AACxE,UAAM,aAA0C,CAAC;AACjD,aAAS,iBAA8B,mBAAmB,EAAE,QAAQ,CAAC,OAAO;AAC1E,YAAM,KAAK,GAAG,QAAQ;AACtB,UAAI,IAAI;AACN,mBAAW,EAAE,IAAI;AAAA,MACnB;AAAA,IACF,CAAC;AAED,UAAM,EAAE,WAAW,WAAW,IAAIC,aAAY;AAC9C,QAAI,CAAC,aAAa,CAAC,WAAY;AAE/B,cAAU,YAAY;AACtB,eAAW,YAAY;AAEvB,UAAM,WAAkD;AAAA,MACtD,MAAM;AAAA,MACN,OAAO;AAAA,IACT;AAEA,kBACG,MAAM,EACN,KAAK,CAAC,GAAG,OAAO,EAAE,SAAS,MAAM,EAAE,SAAS,EAAE,EAC9C,QAAQ,CAAC,QAAQ;AAChB,YAAM,KAAK,WAAW,IAAI,EAAE;AAC5B,YAAM,QAAQ,SAAS,IAAI,MAAM,KAAK;AACtC,UAAI,MAAM,OAAO;AACf,cAAM,YAAY,EAAE;AAAA,MACtB;AAAA,IACF,CAAC;AAEH,WAAO,KAAK,UAAU,EAAE,QAAQ,CAAC,OAAO;AACtC,YAAM,KAAK,WAAW,EAAE;AACxB,UAAI,MAAM,CAAC,GAAG,eAAe;AAC3B,kBAAU,YAAY,EAAE;AAAA,MAC1B;AAAA,IACF,CAAC;AAAA,EACH;AAEA,WAAS,kBAAwB;AAC/B,UAAM,UAAU,SAAS,iBAA8B,mBAAmB;AAC1E,YAAQ,QAAQ,CAAC,OAAO;AACtB,SAAG,iBAAiB,aAAa,iBAAiB;AAClD,SAAG,iBAAiB,WAAW,eAAe;AAAA,IAChD,CAAC;AAED,UAAM,EAAE,WAAW,WAAW,IAAIA,aAAY;AAC9C,KAAC,WAAW,UAAU,EAAE,QAAQ,CAAC,UAAU;AACzC,UAAI,CAAC,MAAO;AACZ,YAAM,iBAAiB,YAAY,eAAe;AAClD,YAAM,iBAAiB,QAAQ,WAAW;AAAA,IAC5C,CAAC;AAAA,EACH;AAEA,WAAS,kBAAkB,OAAwB;AACjD,QAAI,CAAC,YAAY;AACf,YAAM,eAAe;AACrB;AAAA,IACF;AACA,UAAM,SAAS,MAAM;AACrB,QAAI,CAAC,OAAQ;AACb,oBAAgB;AAChB,QAAI,MAAM,cAAc;AACtB,YAAM,aAAa,gBAAgB;AAAA,IACrC;AACA,kBAAc,UAAU,IAAI,UAAU;AAAA,EACxC;AAEA,WAAS,kBAAwB;AAC/B,QAAI,eAAe;AACjB,oBAAc,UAAU,OAAO,UAAU;AACzC,sBAAgB;AAAA,IAClB;AAAA,EACF;AAEA,WAAS,gBAAgB,OAAwB;AAC/C,QAAI,CAAC,WAAY;AACjB,UAAM,eAAe;AAAA,EACvB;AAEA,WAAS,YAAY,OAAwB;AAC3C,QAAI,CAAC,WAAY;AACjB,UAAM,eAAe;AACrB,QAAI,CAAC,cAAe;AAEpB,UAAM,QAAQ,MAAM;AACpB,QAAI,CAAC,MAAO;AAEZ,UAAM,gBAAiB,MAAM,QAA+B,QAAQ,mBAAmB;AAIvF,QAAI,iBAAiB,kBAAkB,iBAAiB,cAAc,kBAAkB,OAAO;AAC7F,YAAM,aAAa,eAAe,aAAa;AAAA,IACjD,OAAO;AACL,YAAM,YAAY,aAAa;AAAA,IACjC;AAEA,kBAAc,UAAU,OAAO,UAAU;AACzC,oBAAgB;AAChB,sBAAkB;AAAA,EACpB;AAEA,WAAS,oBAA0B;AACjC,UAAM,EAAE,WAAW,WAAW,IAAIA,aAAY;AAC9C,QAAI,CAAC,aAAa,CAAC,WAAY;AAE/B,UAAM,SAA4C,EAAE,SAAS,CAAC,EAAE;AAEhE,UAAM,UAAkD;AAAA,MACtD,CAAC,QAAQ,SAAS;AAAA,MAClB,CAAC,SAAS,UAAU;AAAA,IACtB;AAEA,YAAQ,QAAQ,CAAC,CAAC,QAAQ,KAAK,MAAM;AACnC,YAAM,OAAO,MAAM,iBAA8B,mBAAmB;AACpE,WAAK,QAAQ,CAAC,IAAI,UAAU;AAC1B,cAAM,KAAK,GAAG,QAAQ;AACtB,YAAI,CAAC,GAAI;AACT,eAAO,QAAQ,KAAK;AAAA,UAClB;AAAA,UACA;AAAA,UACA,OAAO;AAAA,QACT,CAAC;AAAA,MACH,CAAC;AAAA,IACH,CAAC;AAED,UAAM,GAAGD,QAAO,WAAW;AAAA,MACzB,QAAQ;AAAA,MACR,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,MAC9C,MAAM,KAAK,UAAU,MAAM;AAAA,IAC7B,CAAC,EAAE,MAAM,CAAC,QAAQ;AAChB,cAAQ,MAAM,gEAA4C,GAAG;AAAA,IAC/D,CAAC;AAAA,EACH;AAEA,WAAS,iBAAuB;AAC9B,UAAM,EAAE,WAAW,IAAIC,aAAY;AACnC,QAAI,CAAC,WAAY;AAEjB,eAAW,iBAAiB,SAAS,MAAM;AACzC,mBAAa,CAAC;AACd,iBAAW,UAAU,OAAO,UAAU,UAAU;AAChD,iBAAW,aAAa,gBAAgB,OAAO,UAAU,CAAC;AAE1D,eAAS,KAAK,UAAU,OAAO,kBAAkB,UAAU;AAE3D,YAAM,UAAU,SAAS,iBAA8B,mBAAmB;AAC1E,cAAQ,QAAQ,CAAC,OAAO;AACtB,YAAI,YAAY;AACd,aAAG,UAAU,OAAO,SAAS;AAC7B,aAAG,aAAa,aAAa,MAAM;AAAA,QACrC,OAAO;AACL,aAAG,UAAU,IAAI,SAAS;AAC1B,aAAG,gBAAgB,WAAW;AAAA,QAChC;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAAA,EACH;;;ACtMO,WAAS,YAAY;AAC1B,aAAS,iBAAiB,oBAAoB,MAAM;AAClD,UAAI;AACF,iBAAS;AACT,2BAAmB;AACnB,0BAAkB;AAClB,4BAAoB;AAAA,MACtB,SAAS,GAAG;AACV,gBAAQ,MAAM,gDAAsC,CAAC;AAAA,MACvD;AAAA,IACF,CAAC;AAAA,EACH;AAEA,YAAU;",
  "names": ["API_URL", "escapeHtml", "API_URL", "getElements", "escapeHtml", "API_URL", "getElements"]
}
